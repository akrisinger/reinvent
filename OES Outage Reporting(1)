{"modules":[{"id":"e8cd0850-8532-4da9-8906-0834ec010966","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"bf821779-6257-4d03-ae07-15e7dfe1e761"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":176,"y":11}}},{"id":"521f9850-262d-4868-9d20-eac01e250eca","type":"SetQueue","branches":[{"condition":"Success","transition":"fd81ddcb-16e6-4857-822e-e3c2051a8c79"},{"condition":"Error","transition":"fd81ddcb-16e6-4857-822e-e3c2051a8c79"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:656971979010:instance/7bef9566-f161-4c51-bbf7-90d9a862dab9/queue/c2445666-e780-4f1d-939b-cdea3a875ad8","namespace":null,"resourceName":"OutageQueue"}],"metadata":{"position":{"x":1177,"y":443},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:656971979010:instance/7bef9566-f161-4c51-bbf7-90d9a862dab9/queue/c2445666-e780-4f1d-939b-cdea3a875ad8","text":"OutageQueue"}}},{"id":"fd81ddcb-16e6-4857-822e-e3c2051a8c79","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1446.757080078125,"y":517.0767822265625}}},{"id":"b01211e3-472e-4c4a-9c9a-95ff056473a4","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2278,"y":632}}},{"id":"0cea213f-ee25-4ec1-bbc4-f2bce64b963a","type":"SetAttributes","branches":[{"condition":"Success","transition":"a61295d2-5428-4601-a839-b2c74300b9a4"},{"condition":"Error","transition":"4105fc3f-4882-4e8e-b914-548912214de3"}],"parameters":[{"name":"Attribute","value":"Off","key":"outageReported","namespace":null}],"metadata":{"position":{"x":897,"y":22}}},{"id":"4105fc3f-4882-4e8e-b914-548912214de3","type":"PlayPrompt","branches":[{"condition":"Success","transition":"521f9850-262d-4868-9d20-eac01e250eca"}],"parameters":[{"name":"Text","value":"We are unable to capture that information. Please hold on while I transfer you to an agent.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1167.720703125,"y":202.3343963623047},"useDynamic":false}},{"id":"bf821779-6257-4d03-ae07-15e7dfe1e761","type":"SetVoice","branches":[{"condition":"Success","transition":"4ed0da8c-9838-4f10-9cc6-b0ca9a758b17"}],"parameters":[{"name":"GlobalVoice","value":"Joanna"}],"metadata":{"position":{"x":403,"y":12}}},{"id":"4ed0da8c-9838-4f10-9cc6-b0ca9a758b17","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Off","transition":"0cea213f-ee25-4ec1-bbc4-f2bce64b963a"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"On","transition":"c67b3565-1094-409f-a32c-1dcf7de270b7"},{"condition":"NoMatch","transition":"d64767ab-2ba1-4c02-8abf-c87c24a8a421"},{"condition":"Error","transition":"4105fc3f-4882-4e8e-b914-548912214de3"}],"parameters":[{"name":"Text","value":"<speak>\nok, I understand you want to to report a different power status for  \n  <say-as interpret-as=\"digits\">\n  $.Attributes.returnedaddressStreet\n  </say-as>\n\nin the city of \n$.Attributes.returnedaddressCity\n\nPlease tell me if power is on or off at this location? You can say on or off.\n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"},{"name":"BotName","value":"CollectPowerStatus"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":624,"y":20},"conditionMetadata":[{"id":"ab156503-e31a-4c10-aa7c-fc1f19a06e73","value":"Off"},{"id":"ee0e3ce6-e0eb-4f63-b2bc-110afc2b2e22","value":"On"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"a61295d2-5428-4601-a839-b2c74300b9a4","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3e39d894-8643-4063-bb4c-5cbe0fddf53f"}],"parameters":[{"name":"Text","value":"Thank you, your outage has been recorded.\nPlease give us time to investigate the situation. You may call back in 15 minutes to check on status, or visit our outage page at www dot OES outage dot com","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1443,"y":28},"useDynamic":false}},{"id":"3e39d894-8643-4063-bb4c-5cbe0fddf53f","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"9","transition":"72abc025-3761-46b3-b72d-7444f9240939"},{"condition":"Timeout","transition":"d64767ab-2ba1-4c02-8abf-c87c24a8a421"},{"condition":"NoMatch","transition":"d64767ab-2ba1-4c02-8abf-c87c24a8a421"},{"condition":"Error","transition":"d64767ab-2ba1-4c02-8abf-c87c24a8a421"}],"parameters":[{"name":"Text","value":"You may hang up now, or press 9 to return to the main outage menu","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1704,"y":35},"conditionMetadata":[{"id":"70395f20-3c21-49ec-8f7e-6d0ed9311485","value":"9"}],"useDynamic":false},"target":"Digits"},{"id":"72abc025-3761-46b3-b72d-7444f9240939","type":"Transfer","branches":[{"condition":"Error","transition":"b01211e3-472e-4c4a-9c9a-95ff056473a4"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:656971979010:instance/7bef9566-f161-4c51-bbf7-90d9a862dab9/contact-flow/4c102686-7860-4c34-a698-94775c597032","resourceName":"OES Outage Error Handling"}],"metadata":{"position":{"x":1955,"y":25},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:656971979010:instance/7bef9566-f161-4c51-bbf7-90d9a862dab9/contact-flow/4c102686-7860-4c34-a698-94775c597032","text":"OES Outage Error Handling"}},"target":"Flow"},{"id":"d64767ab-2ba1-4c02-8abf-c87c24a8a421","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b01211e3-472e-4c4a-9c9a-95ff056473a4"}],"parameters":[{"name":"Text","value":"Thank you, good-bye","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2032,"y":617},"useDynamic":false}},{"id":"c67b3565-1094-409f-a32c-1dcf7de270b7","type":"SetAttributes","branches":[{"condition":"Success","transition":"3bc9e909-73bd-48ac-99cc-6e50618b551f"},{"condition":"Error","transition":"4105fc3f-4882-4e8e-b914-548912214de3"}],"parameters":[{"name":"Attribute","value":"On","key":"outageReported","namespace":null}],"metadata":{"position":{"x":901,"y":291}}},{"id":"3bc9e909-73bd-48ac-99cc-6e50618b551f","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"9","transition":"72abc025-3761-46b3-b72d-7444f9240939"},{"condition":"Timeout","transition":"d64767ab-2ba1-4c02-8abf-c87c24a8a421"},{"condition":"NoMatch","transition":"d64767ab-2ba1-4c02-8abf-c87c24a8a421"},{"condition":"Error","transition":"d64767ab-2ba1-4c02-8abf-c87c24a8a421"}],"parameters":[{"name":"Text","value":"Thank you for letting us know the power is back on; we will update our records accordingly.\n\nYou may hang up now, or press 9 to return to the main outage menu","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"3"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1445,"y":220},"conditionMetadata":[{"id":"a5bfca15-655f-4807-b6a5-30fcbfb25dd0","value":"9"}],"useDynamic":false},"target":"Digits"}],"version":"1","type":"contactFlow","start":"e8cd0850-8532-4da9-8906-0834ec010966","metadata":{"entryPointPosition":{"x":36,"y":6},"snapToGrid":false,"name":"OES Outage Reporting","description":"OES Outage Reporting sub-flow","type":"contactFlow","status":"published","hash":"a165947ef1e74dfcab459c879025797b6966b3372d237594981986eb94177fc4"}}